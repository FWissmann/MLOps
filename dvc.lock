schema: '2.0'
stages:
  train:
    cmd: docker run -i --rm --name ludwig_experiment_single --mount type=bind,src=/home/aml/MLOps/data,dst=/app/data
      --mount type=bind,src=/home/aml/MLOps/conf/ludwig_experiment,dst=/app/conf --env
      MLFLOW_TRACKING_URI=http://172.17.0.4:5000/ ludwig_experiment:2 experiment --config
      /app/conf/ludwig_conf.yaml --dataset /app/data/01_data_parquet/sim_data.parquet
      --output_directory /app/data/02_model_results --mlflow --experiment_name relax
      --model_name generator
    deps:
    - path: ./conf/ludwig_experiment/ludwig_conf.yaml
      md5: 4cd65ce18d8d26bdd727b4dd6f8e9ea6
      size: 343
    - path: ./data/01_data_parquet/sim_data.parquet
      md5: 7aa7bd47adb0c018e79479f69cab3244
      size: 23654
  data_gen:
    cmd: docker run -i --rm --name data_gen_single --mount type=bind,src=/home/aml/MLOps/data,dst=/app/data
      --mount type=bind,src=/home/aml/MLOps/src/data_generator,dst=/app/ data_gen:2
    outs:
    - path: ./data/00_simdata/00_simdata.csv
      md5: 3d3c72850b6ea7b539e5e016e5601cb8
      size: 141938
  data_check:
    cmd: docker run -i --rm --name gx_simdata_single --mount type=bind,src=/home/aml/MLOps/data,dst=/app/data
      --mount type=bind,src=/home/aml/MLOps/src/gx_datacheck,dst=/app/ gx_simdata:3
    deps:
    - path: ./data/00_simdata/00_simdata.csv
      md5: 3d3c72850b6ea7b539e5e016e5601cb8
      size: 141938
    outs:
    - path: ./data/01_gx/01_gx_simdata.csv
      md5: 3d3c72850b6ea7b539e5e016e5601cb8
      size: 141938
  data_check_real:
    cmd: docker run -i --rm --name gx_realdata_single --mount type=bind,src=/home/aml/MLOps/data,dst=/app/data
      --mount type=bind,src=/home/aml/MLOps/src/gx_datacheck,dst=/app/ gx_realdata:3
    deps:
    - path: ./data/00_rawdata/RTWIBNet_W22
      md5: 8e70822f2d3bb8ced16190952a022bde.dir
      size: 1727714
      nfiles: 2
    - path: ./src/gx_datacheck/gx_realdata.py
      md5: 50a4f76e43ac6388c5532b7c0b71275a
      size: 5058
    outs:
    - path: ./data/01_gx/01_gx_realdata_grades.csv
      md5: 34bc004d17bcdbb9a600af7d83689917
      size: 680
    - path: ./data/01_gx/01_gx_realdata_logs.csv
      md5: a386c420b0c214e64a1f76fd3b6f6d62
      size: 1727034
